"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7139],{91375:function(t,e,r){r.r(e),r.d(e,{default:function(){return G}});var n,o,i,a,c,u,l=r(86522),s=r(34795),f=r(76854),d=r(59740),h=r(2784),p=r(52337),v=r(65055),m=r(10200),g=r(84546),y=r(76613),w=r(89382),b=r(21874),E=r(7896),x=r(71171),Z=r(99673),L=r(25610),k=r(60861),O=r(63825),P=r(27408),S=(0,Z.ZP)(k.Z).attrs((function(t){return(0,E.Z)({color:"secondary",size:"small"},t)}))(n||(n=(0,x.Z)([""]))),_=(0,Z.ZP)(g.Z).attrs((function(t){return(0,E.Z)({px:1,py:4},t)}))(o||(o=(0,x.Z)([""]))),C=(0,Z.ZP)(g.Z).attrs((function(t){return(0,E.Z)({color:"text.scratched",fontSize:[2,2,2,2],fontWeight:"regular",lineHeight:"big",textAlign:"justify"},t)}))(i||(i=(0,x.Z)([""]))),j=(0,Z.ZP)(L.Z).attrs((function(t){return(0,E.Z)({color:"base",fontSize:2,fontWeight:"bold",lineHeight:"display",my:[2,2,3,3]},t)}))(a||(a=(0,x.Z)([""]))),T=(0,Z.ZP)(O.Z).attrs((function(t){return(0,E.Z)({color:"base",fontSize:[1,1,2,2],fontWeight:"bold",paddingY:"20px"},t)}))(c||(c=(0,x.Z)([""]))),N=(0,Z.ZP)(P.Z).attrs((function(t){return(0,E.Z)({flexDirection:["column"],gap:"30px",p:"20px",textAlign:["left"]},t)}))(u||(u=(0,x.Z)([""]))),I=["label","description","labelAs","buttonLabel","linkLabel","reviewLabel","optionsLabel","myOrdered","myOrderedLink","redirectToPath","reviewPlaceholder","reviewOptions","errorEmptyMessage","somethingWrong"];function D(){D=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=Object.create((e&&e.prototype instanceof h?e:h).prototype);return n(i,"_invoke",{value:x(t,r,new O(o||[]))}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function h(){}function p(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==e&&r.call(y,i)&&(m=y);var w=v.prototype=h.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){var o;function i(n,o,a,c){var u=f(t[n],t,o);if("throw"!==u.type){var s=u.arg,d=s.value;return d&&"object"==(0,l.Z)(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){i("next",t,a,c)}),(function(t){i("throw",t,a,c)})):e.resolve(d).then((function(t){s.value=t,a(s)}),(function(t){return i("throw",t,a,c)}))}c(u.arg)}n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){i(t,r,e,n)}))}return o=o?o.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=Z(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function Z(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,Z(t,e),"throw"===e.method))return d;e.method="throw",e.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(E.prototype),u(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}var F=function(t){var e=t.structure,r=void 0===e?{}:e,n=t.static,o=n.label,i=n.description,a=n.labelAs,c=void 0===a?"h2":a,u=n.buttonLabel,l=n.linkLabel,w=n.reviewLabel,E=n.optionsLabel,x=n.myOrdered,Z=n.myOrderedLink,L=n.redirectToPath,k=n.reviewPlaceholder,O=n.reviewOptions,P=n.errorEmptyMessage,F=n.somethingWrong,G=void 0===F?"":F,z=(0,d.Z)(n,I),R=(0,h.useState)(null),A=(0,f.Z)(R,2),W=A[0],Y=A[1],M=(0,h.useState)(""),q=(0,f.Z)(M,2),B=q[0],K=q[1],U=(0,h.useState)(""),V=(0,f.Z)(U,2),H=V[0],Q=V[1],J=(r||{}).route,X=(J=void 0===J?{}:J).from,$=J.productId;(0,h.useEffect)((function(){Y(O[0].value)}),[]);var tt,et=(0,y.useReportProduct)(),rt=et.data,nt=et.postData,ot=et.error;(0,h.useEffect)((function(){"success"===(null==rt?void 0:rt.message)&&(0,b.dY)({path:L,spa:!0})}),[rt]);var it=(tt=(0,s.Z)(D().mark((function t(){return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(B){t.next=2;break}return t.abrupt("return",Q(P));case 2:return t.next=4,nt({message:B,option:W,sku:$});case 4:return t.abrupt("return",void 0);case 5:case"end":return t.stop()}}),t)}))),function(){return tt.apply(this,arguments)});return h.createElement(_,z,o&&h.createElement(j,{forwardedAs:c},o),h.createElement(C,null,i,h.createElement(m.Z,{underline:!0,"data-testid":"my-ordered",onClick:function(t){return function(t){t.preventDefault(),(0,b.dY)({path:Z,spa:!0})}(t)},href:Z,fontSize:[2,2,2,2],color:"text.scratched"},x)),h.createElement(T,null,E),h.createElement(g.Z,{"data-testid":"radio-report",p:"0 0 25px 0"},h.createElement(v.Z,{options:O,selectedOption:W,p:1,onChange:function(t,e){return Y(e.value)}})),h.createElement(N,{"data-testid":"message-text",label:w,onChange:function(t){return function(t){K(t.target.value),""!==B&&Q("")}(t)},type:"textarea",error:H,placeholder:k}),h.createElement(g.Z,{p:"20px 0 20px 0"},h.createElement(S,{"data-testid":"submit-button",onClick:function(){return it()}},u)),h.createElement(m.Z,{"data-testid":"back-to-product",onClick:function(t){!function(t){t.preventDefault(),(0,b.dY)({path:X,spa:!0})}(t)},href:X,color:"text.primary",role:"link"},l),h.createElement(g.Z,{p:"20px 0 20px 0"},Boolean(ot)&&h.createElement(p.Z,{message:G,intent:"danger"})))};F.defaultProps={static:{buttonLabel:"Denunciar",label:"Olá. Sobre o que se trata a sua denúncia?",labelAs:"h2",linkLabel:"Voltar ao produto",myOrdered:"Meus Pedidos.",optionsLabel:"Você acredita que o anúncio seja:",redirectToPath:"/denuncie/confirmacao",reviewLabel:"Conte mais detalhes sobre a denúncia",reviewOptions:[],reviewPlaceholder:"detalhes..."},structure:{}},F.ssr=!1;var G=(0,w.Z)(F)},89591:function(t,e,r){r.d(e,{Z:function(){return Z}});var n,o=r(86522),i=r(7896),a=r(34795),c=r(2784),u=r(52337),l=r(19527),s=r(79534),f=r(21874),d=r(87333),h=r(76613),p=r(89382),v=r(71171),m=r(99673),g=r(63825),y=(0,m.ZP)(g.Z).attrs({role:"contentinfo"})(n||(n=(0,v.Z)(["\n  cursor: pointer;\n  text-decoration: underline;\n"]))),w=function(t){var e=t.onClick;return c.createElement(g.Z,{as:"span",display:"flex",width:1,gap:[0,1],flexDirection:["column","row"],fontSize:[1,2]},"Concordo com os",c.createElement(y,{"data-testid":"review-terms",onClick:e},"termos e condições"))};function b(){b=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=Object.create((e&&e.prototype instanceof h?e:h).prototype);return n(i,"_invoke",{value:Z(t,r,new P(o||[]))}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var d={};function h(){}function p(){}function v(){}var m={};l(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&r.call(y,a)&&(m=y);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){var i;function a(n,i,c,u){var l=f(t[n],t,i);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==(0,o.Z)(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){a("next",t,c,u)}),(function(t){a("throw",t,c,u)})):e.resolve(d).then((function(t){s.value=t,c(s)}),(function(t){return a("throw",t,c,u)}))}u(l.arg)}n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){a(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function Z(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=L(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,L(t,e),"throw"===e.method))return d;e.method="throw",e.arg=TypeError("The iterator does not provide a 'throw' method")}return d}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=TypeError("iterator result is not an object"),e.delegate=null,d)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function S(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return p.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:p,configurable:!0}),p.displayName=l(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(x.prototype),l(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new x(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=S,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}var E=function(t){try{return"".concat(t.zipCodeCity," - ").concat(t.zipCodeState.toUpperCase())}catch(t){return""}},x=function(t){var e,r,n,o,p=t.static,v=t.data,m=t.structure,g=t.config,y=v.reviewCharacteristics,x=null==m?void 0:m.route,Z=x.productId,L=x.campaignId,k=x.rd,O=(null==m?void 0:m.cookies)||{},P=O.partnerId,S=O.customerId,_=O.accountData,C=O.location,j=(0,d.Np)().publish,T=(0,h.useReview)({context:{timeout:null==g||null==(e=g.publicRuntimeConfig)||null==(r=e.review)?void 0:r.timeout}}),N=T.mutateData,I=T.error,D=T.review,F=(0,c.useCallback)((o=(0,a.Z)(b().mark((function t(e,r){var n,o,a,c,u,l,s,d,h,p;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="like"===e.recommended,l=e.characteristics.map((function(t){return{name:t.id,value:t.value}})),s=(0,i.Z)({},e,{campaignId:L,characteristics:l,partnerId:P,productId:Z,recommended:u,reviewDataJWT:k,userId:S,userLocation:E(C),userName:(0,f.vS)(null==_?void 0:_.name,24)}),t.next=5,N(s);case 5:h=(d=t.sent).data,p=d.error,j("product:review:submit",{errorMessage:(null==h||null==(n=h.addProductReview)||null==(o=n.payloadErrors)?void 0:o.map((function(t){return t.message})).join(" | "))||p,status:null==h||null==(a=h.addProductReview)?void 0:a.status}),"OK"===(null==h||null==(c=h.addProductReview)?void 0:c.status)&&r();case 10:case"end":return t.stop()}}),t)}))),function(t,e){return o.apply(this,arguments)}),[P,Z,S,C,null==_?void 0:_.name]);return c.createElement(c.Fragment,null,c.createElement(s.Z,{onSubmit:F,agreedLabel:c.createElement(w,{onClick:function(t){t.preventDefault(),j("review:terms:open")}}),reviewCharacteristics:y,focus:p.inputFocus}),(I||D)&&c.createElement(l.Z,{pt:3,flexDirection:["column","row"],gap:[0,30]},c.createElement(l.Z,{flex:"0.75"}),c.createElement(l.Z,{flex:"1",gap:"2",alignItems:["center","start"],justifyContent:"space-evenly",flexDirection:"column"},I&&c.createElement(u.Z,{message:I,intent:"danger"}),"OK"===(null==D||null==(n=D.addProductReview)?void 0:n.status)&&c.createElement(c.Fragment,null,c.createElement(u.Z,{message:"Avaliação foi enviada com sucesso.",intent:"success"}),c.createElement(u.Z,{message:"Iremos analisar a sua avaliação e poderá demorar alguns dias até que ela apareça. Obrigado.",intent:"info"})))))};x.defaultProps={config:{},static:{inputFocus:!0}},x.dataSource={reviewCharacteristics:{query:"ReviewCharacteristicsQuery"}},x.ssr=!0;var Z=(0,p.Z)(x)},98396:function(t,e,r){r.d(e,{Z:function(){return m}});var n=r(7896),o=r(85942),i=r(76854),a=r(2784),c=r(13980),u=r(25610),l=r(60861),s=r(4294),f=r(76613),d=r(87333),h=r(21874),p=r(17322),v=function(t){var e,r,c=t.static,v=t.structure,m=t.data,g=void 0===m?{}:m,y=(0,a.useRef)(null),w=(0,d.Np)(),b=w.subscribe,E=w.unsubscribe,x=c.reviewPageSize,Z=c.title,L=c.link,k=c.linkTitle,O=c.showDesktop,P=c.marginBottomScroll,S=g.review,_=g.product,C=S||{},j=C.pagination,T=C.reviews,N=void 0===T?[]:T,I=C.sorts,D=void 0===I?[]:I,F={page:1,sortOrientation:null==D||null==(e=D[0])?void 0:e.orientation,sortType:null==D||null==(r=D[0])?void 0:r.type},G=(0,a.useState)(N),z=(0,i.Z)(G,2),R=z[0],A=z[1],W=(0,a.useState)(F),Y=(0,i.Z)(W,2),M=Y[0],q=Y[1],B=(0,f.useReview)(),K=B.review,U=B.getData;(0,a.useEffect)((function(){A(N),q(F)}),[v.asPath]),(0,a.useEffect)((function(){!function(){var t=M.page,e=M.sortOrientation,r=M.sortType,n=(null==_?void 0:_.variationId)||_.id;U({productId:n,reviewPage:t,reviewPageSize:x,reviewSortOrientation:e,reviewSortType:r})}()}),[_,M]),(0,a.useEffect)((function(){var t,e=M.page,r=(null==K||null==(t=K.review)?void 0:t.reviews)||[];if(0!==r.length){var n=e>1?[].concat((0,o.Z)(R),(0,o.Z)(r)):r;A(n)}}),[K]);var V=function(){return(0,h.BC)(y,P)};return(0,a.useEffect)((function(){return b("product:review:click",V),function(){E("product:review:click",V)}})),a.createElement(p.Z,{eventKey:"product:active:section",eventValue:"product:review"},a.createElement(a.Fragment,null,Z&&a.createElement(u.Z,{as:"h2",color:"base",fontSize:5,fontWeight:"medium",my:[2,2,3,3],ref:y,yOffset:P},Z),L&&k&&a.createElement(l.Z,{as:"a",href:L,m:"10px 0 0 auto",maxWidth:"315px"},k),a.createElement(s.Z,{productData:_,reviewsData:(0,n.Z)({},S,{pagination:(0,n.Z)({},void 0===j?{}:j,{page:M.page}),reviews:R}),onViewMoreClick:function(){var t=M.page+1;q((0,n.Z)({},M,{page:t}))},onChangeSort:function(t){var e=t.type,r=t.orientation;q({page:1,sortOrientation:r,sortType:e})},showDesktop:O})))};v.defaultProps={data:{},static:{link:"",linkTitle:"",reviewPageSize:20,showDesktop:!1,title:""},structure:(0,c.shape)({})},v.dataSource={product:{query:"ProductQuery"},review:{query:"ReviewQuery"}},v.ssr=!0;var m=v},61271:function(t,e,r){r.r(e),r.d(e,{default:function(){return u}});var n=r(76854),o=r(2784),i=r(77766),a=r(87333),c=function(t){var e=t.open,r=t.static,c=r.title,u=r.termsUrl,l=(0,a.Np)(),s=l.subscribe,f=l.unsubscribe,d=(0,o.useState)(e),h=(0,n.Z)(d,2),p=h[0],v=h[1],m=(0,o.useCallback)((function(){v(!p)}),[p]);return(0,o.useEffect)((function(){return s("review:terms:open",m),function(){f("review:terms:open",m)}}),[]),o.createElement(o.Fragment,null,p&&o.createElement(i.Z,{onClickOutside:m,position:"center",showClose:!0,title:c},o.createElement("iframe",{frameBorder:0,height:"400px",src:u,title:c,width:"100%"})))};c.defaultProps={open:!1,static:{termsUrl:"https://conteudo.magazineluiza.com.br/regulamentos/termos_e_condicoes_review.html",title:"Termos e Condições"}},c.ssr=!1,c.displayName="ReviewTermsModal";var u=c},15439:function(t,e,r){r.d(e,{Z:function(){return y}});var n,o,i,a=r(7896),c=r(59740),u=r(2784),l=r(21874),s=r(71171),f=r(99673),d=r(84546),h=r(91489),p=function(t,e,r){var i=((null==t?void 0:t.sizes)||[])[e];return i?r?(0,f.iv)(n||(n=(0,s.Z)(["\n      "," {\n        height: ","%;\n        width: ","%;\n      }\n    "])),(0,h.aK)(r),i,i):(0,f.iv)(o||(o=(0,s.Z)(["\n    height: ","%;\n    width: ","%;\n  "])),i,i):""},v=(0,f.ZP)(d.Z)(i||(i=(0,s.Z)(["\n  * img {\n    border-radius: ",";\n    ","\n    ","\n    ","\n    ","\n  }\n\n  * a {\n    text-decoration: ",";\n  }\n"])),(0,h.R)("radii.2"),(function(t){return p(t.image,0)}),(function(t){return p(t.image,1,"small")}),(function(t){return p(t.image,2,"medium")}),(function(t){return p(t.image,3,"large")}),(function(t){return t.linksUnderline?"underline":"none"})),m=["allowedTags","deniedTags","richContent","settings"],g=function(t){var e=t.static,r=(e=void 0===e?{}:e).allowedTags,n=e.deniedTags,o=e.richContent,i=e.settings,s=(0,c.Z)(e,m),f=(void 0===i?{}:i).image;return Boolean(o)&&u.createElement(v,(0,a.Z)({dangerouslySetInnerHTML:{__html:(0,l.Z6)(o,{allowedTags:void 0===r?[]:r,deniedTags:void 0===n?[]:n})},image:f,"data-testid":"rich-content-container"},s))};g.defaultProps={static:{}},g.ssr=!0;var y=g}}]);